import{d as ge,a as _,u as fe,r as A,c as E,o as le,b as He,e as U,f,g,h as s,i as F,j as w,w as k,k as S,t as b,l as v,m as Ve,F as G,n as J,p as V,q as oe,T as Xe,s as $e,v as Se,x as Ee,y as B,z as Qe,A as he,B as Ge,C as ye,D as N,E as Y,G as ce,H as xe,I as We,J as Je,K as Ke,L as Ze,M as et}from"./vendor-aj2XfIwV.js";const C=ge("app",{state:()=>({isLoading:!1,darkMode:localStorage.getItem("darkMode")==="true",toasts:[],sidebarOpen:localStorage.getItem("sidebarOpen")!=="false"}),getters:{isDarkMode:e=>e.darkMode,isSidebarOpen:e=>e.sidebarOpen},actions:{setLoading(e){this.isLoading=e},toggleDarkMode(){this.darkMode=!this.darkMode,localStorage.setItem("darkMode",this.darkMode),this.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},initDarkMode(){localStorage.getItem("darkMode")===null&&(this.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,localStorage.setItem("darkMode",this.darkMode)),this.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleSidebar(){this.sidebarOpen=!this.sidebarOpen,localStorage.setItem("sidebarOpen",this.sidebarOpen)},addToast({type:e="info",message:t,timeout:r=5e3}){const a=Date.now();return this.toasts.push({id:a,type:e,message:t,timeout:r}),r>0&&setTimeout(()=>{this.removeToast(a)},r),a},removeToast(e){const t=this.toasts.findIndex(r=>r.id===e);t!==-1&&this.toasts.splice(t,1)},clearToasts(){this.toasts=[]}}}),te=ge("auth",{state:()=>({user:null,token:localStorage.getItem("token")||null}),getters:{isAuthenticated:e=>!!e.token&&!!e.user,currentUser:e=>e.user},actions:{async init(){this.token&&await this.fetchUser()},async login(e){const t=C();t.setLoading(!0);try{const r=await _.post("/api/login",e);return this.setToken(r.data.token),await this.fetchUser(),t.addToast({type:"success",message:"Logged in successfully"}),r.data}catch(r){throw this.logout(),r}finally{t.setLoading(!1)}},async register(e){const t=C();t.setLoading(!0);try{const r=await _.post("/api/register",e);return this.setToken(r.data.token),await this.fetchUser(),t.addToast({type:"success",message:"Account created successfully"}),r.data}catch(r){throw r}finally{t.setLoading(!1)}},async fetchUser(){C();try{const e=await _.get("/api/user");return this.setUser(e.data),e.data}catch(e){throw this.logout(),e}},async logout(){const e=C();e.setLoading(!0);try{this.token&&await _.post("/api/logout")}catch(t){console.error("Logout error:",t)}finally{this.clearAuth(),e.setLoading(!1),e.addToast({type:"info",message:"Logged out successfully"})}},setUser(e){this.user=e},setToken(e){this.token=e,localStorage.setItem("token",e),_.defaults.headers.common.Authorization=`Bearer ${e}`},clearAuth(){this.user=null,this.token=null,localStorage.removeItem("token"),delete _.defaults.headers.common.Authorization}}}),tt={class:"bg-white dark:bg-gray-800 shadow"},rt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},at={class:"flex justify-between h-16"},st={class:"flex"},nt={class:"flex items-center mr-4 md:hidden"},ot={class:"flex-shrink-0 flex items-center"},it={class:"flex items-center space-x-4"},dt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},lt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},ut={class:"flex items-center space-x-2"},ct={class:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white"},mt={class:"hidden md:inline-block text-gray-700 dark:text-gray-300"},gt={key:0,class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},ft={__name:"AppNavbar",setup(e){const t=fe(),r=te(),a=C(),n=A(!1),o=A(null),l=()=>{n.value=!n.value},c=m=>{o.value&&!o.value.contains(m.target)&&(n.value=!1)},y=async()=>{await r.logout(),n.value=!1,t.push("/login")},i=E(()=>{const m=r.currentUser;if(!m||!m.name)return"";const d=m.name.split(" ");return d.length===1?d[0].charAt(0).toUpperCase():(d[0].charAt(0)+d[d.length-1].charAt(0)).toUpperCase()});return le(()=>{document.addEventListener("click",c)}),He(()=>{document.removeEventListener("click",c)}),(m,d)=>{var $;const P=U("router-link");return g(),f("nav",tt,[s("div",rt,[s("div",at,[s("div",st,[s("div",nt,[s("button",{onClick:d[0]||(d[0]=(...D)=>F(a).toggleSidebar&&F(a).toggleSidebar(...D)),class:"p-2 rounded-md text-gray-500 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none"},d[4]||(d[4]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))]),s("div",ot,[w(P,{to:"/",class:"flex items-center"},{default:k(()=>d[5]||(d[5]=[s("span",{class:"text-xl font-bold text-primary dark:text-white"},"TodoApp",-1)])),_:1})])]),s("div",it,[s("button",{onClick:d[1]||(d[1]=(...D)=>F(a).toggleDarkMode&&F(a).toggleDarkMode(...D)),class:"p-2 rounded-md text-gray-500 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none"},[F(a).darkMode?(g(),f("svg",dt,d[6]||(d[6]=[s("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule":"evenodd"},null,-1)]))):(g(),f("svg",lt,d[7]||(d[7]=[s("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null,-1)])))]),s("div",{class:"relative",ref_key:"userMenuRef",ref:o},[s("button",{onClick:l,class:"flex items-center text-sm focus:outline-none"},[s("div",ut,[s("div",ct,b(i.value),1),s("span",mt,b((($=F(r).currentUser)==null?void 0:$.name)||"User"),1)])]),n.value?(g(),f("div",gt,[w(P,{to:"/profile",class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:d[2]||(d[2]=D=>n.value=!1)},{default:k(()=>d[8]||(d[8]=[v(" Your Profile ")])),_:1}),w(P,{to:"/settings",class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:d[3]||(d[3]=D=>n.value=!1)},{default:k(()=>d[9]||(d[9]=[v(" Settings ")])),_:1}),s("button",{onClick:y,class:"w-full text-left block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}," Sign out ")])):S("",!0)],512)])])])])}}},ht={class:"w-64 bg-white dark:bg-gray-800 h-screen shadow-md fixed md:static transition-all duration-300 z-30"},yt={class:"h-full flex flex-col"},pt={class:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},wt={class:"flex-1 overflow-y-auto pt-4"},bt={class:"space-y-1 px-2"},xt=["innerHTML"],kt={class:"p-4 border-t border-gray-200 dark:border-gray-700"},vt={class:"flex items-center space-x-3"},$t={class:"text-sm text-gray-500 dark:text-gray-400"},St={__name:"AppSidebar",setup(e){const t=Ve(),r=C(),a=[{name:"Dashboard",path:"/",icon:'<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>'},{name:"Tasks",path:"/tasks",icon:'<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>'},{name:"Create Task",path:"/tasks/create",icon:'<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>'}],n=l=>t.path===l||l!=="/"&&t.path.startsWith(l+"/"),o=E(()=>({name:"Todo App",version:"1.0.0"}));return(l,c)=>{const y=U("router-link");return g(),f("div",ht,[s("div",yt,[s("div",pt,[c[2]||(c[2]=s("h2",{class:"text-lg font-semibold text-gray-800 dark:text-white"},"Navigation",-1)),s("button",{onClick:c[0]||(c[0]=(...i)=>F(r).toggleSidebar&&F(r).toggleSidebar(...i)),class:"p-2 rounded-md text-gray-500 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 md:hidden"},c[1]||(c[1]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))]),s("nav",wt,[s("ul",bt,[(g(),f(G,null,J(a,i=>s("li",{key:i.path},[w(y,{to:i.path,class:V(["flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-150",[n(i.path)?"bg-primary-50 text-primary dark:bg-primary-900 dark:text-primary-light":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"]])},{default:k(()=>[s("span",{class:"mr-3",innerHTML:i.icon},null,8,xt),s("span",null,b(i.name),1)]),_:2},1032,["to","class"])])),64))])]),s("div",kt,[s("div",vt,[s("div",$t,[s("p",null,b(o.value.name),1),s("p",null,"v"+b(o.value.version),1)])])])])])}}},Tt={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},Mt={class:"flex flex-col min-h-screen"},Pt={class:"flex-grow"},_t={key:0,class:"flex"},Ct={class:"flex-1 p-4 sm:p-6 transition-all duration-200"},Dt={key:1,class:"w-full"},Ot={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},Lt={class:"fixed bottom-4 right-4 z-50 space-y-2"},Ft={class:"flex-1"},Vt=["onClick"],Et={__name:"App",setup(e){const t=te(),r=C();return le(()=>{document.title="Todo App"}),(a,n)=>{const o=U("router-view");return g(),f("div",Tt,[s("div",Mt,[F(t).isAuthenticated?(g(),oe(ft,{key:0})):S("",!0),s("main",Pt,[F(t).isAuthenticated?(g(),f("div",_t,[F(r).isSidebarOpen?(g(),oe(St,{key:0})):S("",!0),s("div",Ct,[w(o,null,{default:k(({Component:l})=>[w($e,{name:"fade",mode:"out-in"},{default:k(()=>[(g(),oe(Se(l)))]),_:2},1024)]),_:1})])])):(g(),f("div",Dt,[w(o,null,{default:k(({Component:l})=>[w($e,{name:"fade",mode:"out-in"},{default:k(()=>[(g(),oe(Se(l)))]),_:2},1024)]),_:1})]))])]),F(r).isLoading?(g(),f("div",Ot,n[0]||(n[0]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"},null,-1)]))):S("",!0),s("div",Lt,[w(Xe,{name:"toast"},{default:k(()=>[(g(!0),f(G,null,J(F(r).toasts,l=>(g(),f("div",{key:l.id,class:V(["toast p-4 rounded-lg shadow-lg max-w-md flex items-start",{"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-100":l.type==="success","bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-100":l.type==="error","bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-100":l.type==="info","bg-yellow-100 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-100":l.type==="warning"}])},[s("div",Ft,b(l.message),1),s("button",{onClick:c=>F(r).removeToast(l.id),class:"ml-4 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100"}," × ",8,Vt)],2))),128))]),_:1})])])}}},qe=6048e5,Wt=864e5,Te=Symbol.for("constructDateFrom");function z(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Te in e?e[Te](t):e instanceof Date?new e.constructor(t):new Date(t)}function W(e,t){return z(t||e,e)}let qt={};function pe(){return qt}function de(e,t){var c,y,i,m;const r=pe(),a=(t==null?void 0:t.weekStartsOn)??((y=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((m=(i=r.locale)==null?void 0:i.options)==null?void 0:m.weekStartsOn)??0,n=W(e,t==null?void 0:t.in),o=n.getDay(),l=(o<a?7:0)+o-a;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function me(e,t){return de(e,{...t,weekStartsOn:1})}function Ae(e,t){const r=W(e,t==null?void 0:t.in),a=r.getFullYear(),n=z(r,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const o=me(n),l=z(r,0);l.setFullYear(a,0,4),l.setHours(0,0,0,0);const c=me(l);return r.getTime()>=o.getTime()?a+1:r.getTime()>=c.getTime()?a:a-1}function Me(e){const t=W(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function At(e,...t){const r=z.bind(null,t.find(a=>typeof a=="object"));return t.map(r)}function Pe(e,t){const r=W(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Bt(e,t,r){const[a,n]=At(r==null?void 0:r.in,e,t),o=Pe(a),l=Pe(n),c=+o-Me(o),y=+l-Me(l);return Math.round((c-y)/Wt)}function It(e,t){const r=Ae(e,t),a=z(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),me(a)}function Yt(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function jt(e){return!(!Yt(e)&&typeof e!="number"||isNaN(+W(e)))}function Rt(e,t){const r=W(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Nt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zt=(e,t,r)=>{let a;const n=Nt[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function be(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ut={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ht={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qt={date:be({formats:Ut,defaultWidth:"full"}),time:be({formats:Ht,defaultWidth:"full"}),dateTime:be({formats:Xt,defaultWidth:"full"})},Gt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jt=(e,t,r,a)=>Gt[e];function se(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):l;n=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[c]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return n[o]}}const Kt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},er={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ar={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sr=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nr={ordinalNumber:sr,era:se({values:Kt,defaultWidth:"wide"}),quarter:se({values:Zt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:se({values:er,defaultWidth:"wide"}),day:se({values:tr,defaultWidth:"wide"}),dayPeriod:se({values:rr,defaultWidth:"wide",formattingValues:ar,defaultFormattingWidth:"wide"})};function ne(e){return(t,r={})=>{const a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=t.match(n);if(!o)return null;const l=o[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],y=Array.isArray(c)?ir(c,d=>d.test(l)):or(c,d=>d.test(l));let i;i=e.valueCallback?e.valueCallback(y):y,i=r.valueCallback?r.valueCallback(i):i;const m=t.slice(l.length);return{value:i,rest:m}}}function or(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ir(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function dr(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const n=a[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=r.valueCallback?r.valueCallback(l):l;const c=t.slice(n.length);return{value:l,rest:c}}}const lr=/^(\d+)(th|st|nd|rd)?/i,ur=/\d+/i,cr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mr={any:[/^b/i,/^(a|c)/i]},gr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fr={any:[/1/i,/2/i,/3/i,/4/i]},hr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},br={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kr={ordinalNumber:dr({matchPattern:lr,parsePattern:ur,valueCallback:e=>parseInt(e,10)}),era:ne({matchPatterns:cr,defaultMatchWidth:"wide",parsePatterns:mr,defaultParseWidth:"any"}),quarter:ne({matchPatterns:gr,defaultMatchWidth:"wide",parsePatterns:fr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ne({matchPatterns:hr,defaultMatchWidth:"wide",parsePatterns:yr,defaultParseWidth:"any"}),day:ne({matchPatterns:pr,defaultMatchWidth:"wide",parsePatterns:wr,defaultParseWidth:"any"}),dayPeriod:ne({matchPatterns:br,defaultMatchWidth:"any",parsePatterns:xr,defaultParseWidth:"any"})},vr={code:"en-US",formatDistance:zt,formatLong:Qt,formatRelative:Jt,localize:nr,match:kr,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $r(e,t){const r=W(e,t==null?void 0:t.in);return Bt(r,Rt(r))+1}function Sr(e,t){const r=W(e,t==null?void 0:t.in),a=+me(r)-+It(r);return Math.round(a/qe)+1}function Be(e,t){var m,d,P,$;const r=W(e,t==null?void 0:t.in),a=r.getFullYear(),n=pe(),o=(t==null?void 0:t.firstWeekContainsDate)??((d=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??(($=(P=n.locale)==null?void 0:P.options)==null?void 0:$.firstWeekContainsDate)??1,l=z((t==null?void 0:t.in)||e,0);l.setFullYear(a+1,0,o),l.setHours(0,0,0,0);const c=de(l,t),y=z((t==null?void 0:t.in)||e,0);y.setFullYear(a,0,o),y.setHours(0,0,0,0);const i=de(y,t);return+r>=+c?a+1:+r>=+i?a:a-1}function Tr(e,t){var c,y,i,m;const r=pe(),a=(t==null?void 0:t.firstWeekContainsDate)??((y=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(i=r.locale)==null?void 0:i.options)==null?void 0:m.firstWeekContainsDate)??1,n=Be(e,t),o=z((t==null?void 0:t.in)||e,0);return o.setFullYear(n,0,a),o.setHours(0,0,0,0),de(o,t)}function Mr(e,t){const r=W(e,t==null?void 0:t.in),a=+de(r,t)-+Tr(r,t);return Math.round(a/qe)+1}function M(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const j={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return M(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):M(r+1,2)},d(e,t){return M(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return M(e.getHours()%12||12,t.length)},H(e,t){return M(e.getHours(),t.length)},m(e,t){return M(e.getMinutes(),t.length)},s(e,t){return M(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,r-3));return M(n,t.length)}},Z={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_e={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return j.y(e,t)},Y:function(e,t,r,a){const n=Be(e,a),o=n>0?n:1-n;if(t==="YY"){const l=o%100;return M(l,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):M(o,t.length)},R:function(e,t){const r=Ae(e);return M(r,t.length)},u:function(e,t){const r=e.getFullYear();return M(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return M(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return M(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return j.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return M(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const n=Mr(e,a);return t==="wo"?r.ordinalNumber(n,{unit:"week"}):M(n,t.length)},I:function(e,t,r){const a=Sr(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):M(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):j.d(e,t)},D:function(e,t,r){const a=$r(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):M(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const n=e.getDay(),o=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return M(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const n=e.getDay(),o=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return M(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),n=a===0?7:a;switch(t){case"i":return String(n);case"ii":return M(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let n;switch(a===12?n=Z.noon:a===0?n=Z.midnight:n=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let n;switch(a>=17?n=Z.evening:a>=12?n=Z.afternoon:a>=4?n=Z.morning:n=Z.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return j.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):j.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):M(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):M(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):j.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):j.s(e,t)},S:function(e,t){return j.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return De(a);case"XXXX":case"XX":return Q(a);case"XXXXX":case"XXX":default:return Q(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return De(a);case"xxxx":case"xx":return Q(a);case"xxxxx":case"xxx":default:return Q(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ce(a,":");case"OOOO":default:return"GMT"+Q(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ce(a,":");case"zzzz":default:return"GMT"+Q(a,":")}},t:function(e,t,r){const a=Math.trunc(+e/1e3);return M(a,t.length)},T:function(e,t,r){return M(+e,t.length)}};function Ce(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),o=a%60;return o===0?r+String(n):r+String(n)+t+M(o,2)}function De(e,t){return e%60===0?(e>0?"-":"+")+M(Math.abs(e)/60,2):Q(e,t)}function Q(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=M(Math.trunc(a/60),2),o=M(a%60,2);return r+n+t+o}const Oe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ie=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Pr=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return Oe(e,t);let o;switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Oe(a,t)).replace("{{time}}",Ie(n,t))},_r={p:Ie,P:Pr},Cr=/^D+$/,Dr=/^Y+$/,Or=["D","DD","YY","YYYY"];function Lr(e){return Cr.test(e)}function Fr(e){return Dr.test(e)}function Vr(e,t,r){const a=Er(e,t,r);if(console.warn(a),Or.includes(e))throw new RangeError(a)}function Er(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ar=/^'([^]*?)'?$/,Br=/''/g,Ir=/[a-zA-Z]/;function we(e,t,r){var m,d,P,$;const a=pe(),n=a.locale??vr,o=a.firstWeekContainsDate??((d=(m=a.locale)==null?void 0:m.options)==null?void 0:d.firstWeekContainsDate)??1,l=a.weekStartsOn??(($=(P=a.locale)==null?void 0:P.options)==null?void 0:$.weekStartsOn)??0,c=W(e,r==null?void 0:r.in);if(!jt(c))throw new RangeError("Invalid time value");let y=t.match(qr).map(D=>{const O=D[0];if(O==="p"||O==="P"){const H=_r[O];return H(D,n.formatLong)}return D}).join("").match(Wr).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const O=D[0];if(O==="'")return{isToken:!1,value:Yr(D)};if(_e[O])return{isToken:!0,value:D};if(O.match(Ir))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:D}});n.localize.preprocessor&&(y=n.localize.preprocessor(c,y));const i={firstWeekContainsDate:o,weekStartsOn:l,locale:n};return y.map(D=>{if(!D.isToken)return D.value;const O=D.value;(Fr(O)||Lr(O))&&Vr(O,t,String(e));const H=_e[O[0]];return H(c,O,n.localize,i)}).join("")}function Yr(e){const t=e.match(Ar);return t?t[1].replace(Br,"'"):e}function ee(e,t){return+W(e)>+W(t)}const ke=ge("tasks",{state:()=>({tasks:[],categories:[],task:null,filters:{status:"all",category:"",search:"",dueDate:null,sort:"created_at",order:"desc"},pagination:{currentPage:1,totalPages:1,perPage:10,total:0},statistics:{total:0,completed:0,pending:0,overdue:0}}),getters:{getAllTasks:e=>e.tasks,getCurrentTask:e=>e.task,getPendingCount:e=>e.tasks.filter(t=>!t.completed).length,getCompletedCount:e=>e.tasks.filter(t=>t.completed).length,getFilteredTasks:e=>{let t=[...e.tasks];if(e.filters.status==="pending"?t=t.filter(r=>!r.completed):e.filters.status==="completed"&&(t=t.filter(r=>r.completed)),e.filters.category&&(t=t.filter(r=>r.category_id===parseInt(e.filters.category))),e.filters.search){const r=e.filters.search.toLowerCase();t=t.filter(a=>a.title.toLowerCase().includes(r)||a.description&&a.description.toLowerCase().includes(r))}if(e.filters.dueDate){const r=new Date(e.filters.dueDate).toISOString().split("T")[0];t=t.filter(a=>new Date(a.due_date).toISOString().split("T")[0]===r)}return t},getTaskById:e=>t=>e.tasks.find(r=>r.id===parseInt(t)),getStatistics:e=>e.statistics,getOverdueTasks:e=>{const t=new Date;return e.tasks.filter(r=>!r.completed&&r.due_date&&ee(t,new Date(r.due_date)))},getDueSoonTasks:e=>{const t=new Date,r=new Date;return r.setDate(t.getDate()+7),e.tasks.filter(a=>!a.completed&&a.due_date&&ee(new Date(a.due_date),t)&&ee(r,new Date(a.due_date)))}},actions:{setFilter(e,t){this.filters[e]=t,this.pagination.currentPage=1,this.fetchTasks()},resetFilters(){this.filters={status:"all",category:"",search:"",dueDate:null,sort:"created_at",order:"desc"},this.pagination.currentPage=1,this.fetchTasks()},async fetchTasks(){const e=C();e.setLoading(!0);try{const t={page:this.pagination.currentPage,per_page:this.pagination.perPage,status:this.filters.status!=="all"?this.filters.status:void 0,category:this.filters.category||void 0,search:this.filters.search||void 0,due_date:this.filters.dueDate||void 0,sort:this.filters.sort,order:this.filters.order},r=await _.get("/api/tasks",{params:t});return this.tasks=r.data.data,this.pagination.currentPage=r.data.current_page,this.pagination.totalPages=r.data.last_page,this.pagination.total=r.data.total,r.data}catch(t){throw e.addToast({type:"error",message:"Failed to load tasks. Please try again."}),t}finally{e.setLoading(!1)}},async fetchTask(e){const t=C();t.setLoading(!0);try{const r=await _.get(`/api/tasks/${e}`);return this.task=r.data,r.data}catch(r){throw t.addToast({type:"error",message:"Failed to load task details. Please try again."}),r}finally{t.setLoading(!1)}},async createTask(e){const t=C();t.setLoading(!0);try{e.due_date&&(e.due_date=new Date(e.due_date).toISOString().split("T")[0]);const r=await _.post("/api/tasks",e);return this.fetchDashboardStats(),t.addToast({type:"success",message:"Task created successfully!"}),r.data}catch(r){throw t.addToast({type:"error",message:"Failed to create task. Please try again."}),r}finally{t.setLoading(!1)}},async updateTask(e,t){const r=C();r.setLoading(!0);try{t.due_date&&(t.due_date=new Date(t.due_date).toISOString().split("T")[0]);const a=await _.put(`/api/tasks/${e}`,t),n=this.tasks.findIndex(o=>o.id===parseInt(e));return n!==-1&&(this.tasks[n]=a.data),this.task&&this.task.id===parseInt(e)&&(this.task=a.data),this.fetchDashboardStats(),r.addToast({type:"success",message:"Task updated successfully!"}),a.data}catch(a){throw r.addToast({type:"error",message:"Failed to update task. Please try again."}),a}finally{r.setLoading(!1)}},async toggleTaskCompletion(e,t){const r=C();try{const a=await _.patch(`/api/tasks/${e}/toggle-completion`,{completed:t}),n=this.tasks.findIndex(o=>o.id===parseInt(e));return n!==-1&&(this.tasks[n].completed=t,this.tasks[n].completed_at=t?new Date().toISOString():null),this.task&&this.task.id===parseInt(e)&&(this.task.completed=t,this.task.completed_at=t?new Date().toISOString():null),this.fetchDashboardStats(),r.addToast({type:"success",message:t?"Task marked as completed!":"Task marked as incomplete!"}),a.data}catch(a){throw r.addToast({type:"error",message:"Failed to update task status. Please try again."}),a}},async deleteTask(e){const t=C();t.setLoading(!0);try{return await _.delete(`/api/tasks/${e}`),this.tasks=this.tasks.filter(r=>r.id!==parseInt(e)),this.task&&this.task.id===parseInt(e)&&(this.task=null),this.fetchDashboardStats(),t.addToast({type:"success",message:"Task deleted successfully!"}),!0}catch(r){throw t.addToast({type:"error",message:"Failed to delete task. Please try again."}),r}finally{t.setLoading(!1)}},async fetchPendingCount(){try{return(await _.get("/tasks/pending-count")).data.count}catch(e){return console.error("Failed to fetch pending count:",e),0}},async fetchCategories(){const e=C();try{const t=await _.get("/api/categories");return this.categories=t.data,t.data}catch(t){throw e.addToast({type:"error",message:"Failed to load categories. Please try again."}),t}},async fetchDashboardStats(){C();try{const e=await _.get("/api/dashboard/stats");return this.statistics=e.data,e.data}catch(e){throw console.error("Failed to load dashboard statistics:",e),e}},setSort(e,t="desc"){this.filters.sort=e,this.filters.order=t},setPage(e){this.pagination.currentPage=e},formatDate(e){return e?we(new Date(e),"MMM d, yyyy"):""},isOverdue(e){return!e.due_date||e.completed?!1:ee(new Date,new Date(e.due_date))},clearFilters(){this.filters={status:"all",category:"",search:"",dueDate:null,sort:"created_at",order:"desc"},this.pagination.currentPage=1}}}),jr=ge("stats",{state:()=>({overview:{total:0,completed:0,pending:0,overdue:0,completion_rate:0},completionRate:{daily:[],weekly:[],monthly:[]},byCategory:[],byPriority:[],byDate:{daily:[],weekly:[],monthly:[]},completionTime:{average:0,tasks:[]},isLoading:!1,dateRange:{start:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}}),getters:{getOverview:e=>e.overview,getCompletionRate:e=>e.completionRate,getStatsByCategory:e=>e.byCategory,getStatsByPriority:e=>e.byPriority,getStatsByDate:e=>e.byDate,getCompletionTime:e=>e.completionTime},actions:{setDateRange(e,t){this.dateRange.start=e,this.dateRange.end=t},async fetchOverview(){var t,r;const e=C();this.isLoading=!0,e.setLoading(!0);try{const a=`/stats/overview?start_date=${this.dateRange.start}&end_date=${this.dateRange.end}`,n=await _.get(a);return this.overview=n.data,this.overview}catch(a){throw e.addToast({type:"error",message:((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch statistics overview."}),a}finally{this.isLoading=!1,e.setLoading(!1)}},async fetchCompletionRate(e="weekly"){var r,a;const t=C();this.isLoading=!0;try{const n=`/stats/completion-rate?period=${e}&start_date=${this.dateRange.start}&end_date=${this.dateRange.end}`,o=await _.get(n);return this.completionRate[e]=o.data,this.completionRate[e]}catch(n){throw t.addToast({type:"error",message:((a=(r=n.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch completion rate statistics."}),n}finally{this.isLoading=!1}},async fetchStatsByCategory(){var t,r;const e=C();this.isLoading=!0;try{const a=`/stats/by-category?start_date=${this.dateRange.start}&end_date=${this.dateRange.end}`,n=await _.get(a);return this.byCategory=n.data,this.byCategory}catch(a){throw e.addToast({type:"error",message:((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch category statistics."}),a}finally{this.isLoading=!1}},async fetchStatsByPriority(){var t,r;const e=C();this.isLoading=!0;try{const a=`/stats/by-priority?start_date=${this.dateRange.start}&end_date=${this.dateRange.end}`,n=await _.get(a);return this.byPriority=n.data,this.byPriority}catch(a){throw e.addToast({type:"error",message:((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch priority statistics."}),a}finally{this.isLoading=!1}},async fetchStatsByDate(e="weekly"){var r,a;const t=C();this.isLoading=!0;try{const n=`/stats/by-date?period=${e}&start_date=${this.dateRange.start}&end_date=${this.dateRange.end}`,o=await _.get(n);return this.byDate[e]=o.data,this.byDate[e]}catch(n){throw t.addToast({type:"error",message:((a=(r=n.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch date statistics."}),n}finally{this.isLoading=!1}},async fetchCompletionTime(){var t,r;const e=C();this.isLoading=!0;try{const a=`/stats/completion-time?start_date=${this.dateRange.start}&end_date=${this.dateRange.end}`,n=await _.get(a);return this.completionTime=n.data,this.completionTime}catch(a){throw e.addToast({type:"error",message:((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch completion time statistics."}),a}finally{this.isLoading=!1}},async fetchAllStats(){const e=C();e.setLoading(!0);try{await Promise.all([this.fetchOverview(),this.fetchCompletionRate("weekly"),this.fetchStatsByCategory(),this.fetchStatsByPriority(),this.fetchStatsByDate("weekly")])}catch(t){console.error("Failed to fetch all statistics:",t)}finally{e.setLoading(!1)}}}}),Rr={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Nr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},zr={class:"px-4 py-5 sm:p-6"},Ur={class:"flex items-center"},Hr={class:"ml-5 w-0 flex-1"},Xr={class:"flex items-baseline"},Qr={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Gr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Jr={class:"px-4 py-5 sm:p-6"},Kr={class:"flex items-center"},Zr={class:"ml-5 w-0 flex-1"},ea={class:"flex items-baseline"},ta={class:"text-2xl font-semibold text-gray-900 dark:text-white"},ra={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},aa={class:"px-4 py-5 sm:p-6"},sa={class:"flex items-center"},na={class:"ml-5 w-0 flex-1"},oa={class:"flex items-baseline"},ia={class:"text-2xl font-semibold text-gray-900 dark:text-white"},da={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},la={class:"px-4 py-5 sm:p-6"},ua={class:"flex items-center"},ca={class:"ml-5 w-0 flex-1"},ma={class:"flex items-baseline"},ga={class:"text-2xl font-semibold text-gray-900 dark:text-white"},fa={class:"mt-8"},ha={class:"flex items-center justify-between mb-4"},ya={class:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-md"},pa={class:"divide-y divide-gray-200 dark:divide-gray-700"},wa={class:"flex items-center"},ba={class:"min-w-0 flex-1"},xa={class:"flex items-center"},ka=["id","checked","onChange"],va={key:0,class:"text-gray-500 dark:text-gray-400 truncate"},$a={class:"ml-4 flex-shrink-0 flex"},Sa={class:"flex items-center space-x-2"},Ta={key:0,class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"},Ma={class:"bg-gray-50 dark:bg-gray-700 px-4 py-4 sm:px-6"},Pa={class:"flex items-center justify-center"},_a={__name:"Dashboard",setup(e){const t=ke(),r=jr(),a=A([]),n=E(()=>({overview:r.getOverview})),o=async()=>{try{await r.fetchOverview(),await t.fetchTasks(),a.value=t.getAllTasks.slice(0,5)}catch(m){console.error("Error fetching dashboard data:",m)}},l=async m=>{try{await t.toggleTaskCompletion(m),await o()}catch(d){console.error("Error toggling task completion:",d)}},c=m=>we(new Date(m),"MMM d, yyyy"),y=m=>ee(new Date,new Date(m)),i=m=>{if(!m)return"#FFFFFF";m=m.replace(/^#/,"");const d=parseInt(m.substring(0,2),16),P=parseInt(m.substring(2,4),16),$=parseInt(m.substring(4,6),16);return(d*299+P*587+$*114)/1e3>128?"#000000":"#FFFFFF"};return le(()=>{o()}),(m,d)=>{const P=U("router-link");return g(),f("div",null,[d[13]||(d[13]=s("div",{class:"pb-5 border-b border-gray-200 dark:border-gray-700 mb-5"},[s("h1",{class:"text-3xl font-bold leading-tight text-gray-900 dark:text-white"},"Dashboard")],-1)),s("div",Rr,[s("div",Nr,[s("div",zr,[s("div",Ur,[d[1]||(d[1]=s("div",{class:"flex-shrink-0 bg-indigo-500 rounded-md p-3"},[s("svg",{class:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),s("div",Hr,[d[0]||(d[0]=s("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Total Tasks ",-1)),s("dd",Xr,[s("div",Qr,b(n.value.overview.total),1)])])])])]),s("div",Gr,[s("div",Jr,[s("div",Kr,[d[3]||(d[3]=s("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[s("svg",{class:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),s("div",Zr,[d[2]||(d[2]=s("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Completed Tasks ",-1)),s("dd",ea,[s("div",ta,b(n.value.overview.completed),1)])])])])]),s("div",ra,[s("div",aa,[s("div",sa,[d[5]||(d[5]=s("div",{class:"flex-shrink-0 bg-yellow-500 rounded-md p-3"},[s("svg",{class:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),s("div",na,[d[4]||(d[4]=s("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Pending Tasks ",-1)),s("dd",oa,[s("div",ia,b(n.value.overview.pending),1)])])])])]),s("div",da,[s("div",la,[s("div",ua,[d[7]||(d[7]=s("div",{class:"flex-shrink-0 bg-red-500 rounded-md p-3"},[s("svg",{class:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),s("div",ca,[d[6]||(d[6]=s("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Overdue Tasks ",-1)),s("dd",ma,[s("div",ga,b(n.value.overview.overdue),1)])])])])])]),s("div",fa,[s("div",ha,[d[9]||(d[9]=s("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Recent Tasks",-1)),w(P,{to:"/tasks/new",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"},{default:k(()=>d[8]||(d[8]=[v(" Add Task ")])),_:1})]),s("div",ya,[s("ul",pa,[(g(!0),f(G,null,J(a.value,$=>(g(),f("li",{key:$.id,class:"px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700"},[s("div",wa,[s("div",ba,[s("div",xa,[s("input",{id:`task-${$.id}`,checked:$.completed,type:"checkbox",onChange:D=>l($.id),class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"},null,40,ka),w(P,{to:`/tasks/${$.id}`,class:"ml-3 text-sm"},{default:k(()=>[s("p",{class:V(["font-medium",$.completed?"text-gray-400 line-through":"text-gray-900 dark:text-white"])},b($.title),3),$.description?(g(),f("p",va,b($.description),1)):S("",!0)]),_:2},1032,["to"])])]),s("div",$a,[s("div",Sa,[$.category?(g(),f("span",{key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:Ee({backgroundColor:$.category.color||"#9CA3AF",color:i($.category.color)})},b($.category.name),5)):S("",!0),$.due_date?(g(),f("span",{key:1,class:V(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",y($.due_date)&&!$.completed?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"])},b(c($.due_date)),3)):S("",!0)])])])]))),128)),a.value.length===0?(g(),f("li",Ta,[d[11]||(d[11]=v(" No tasks found. ")),w(P,{to:"/tasks/new",class:"text-primary hover:text-primary-dark"},{default:k(()=>d[10]||(d[10]=[v("Create one!")])),_:1})])):S("",!0)]),s("div",Ma,[s("div",Pa,[w(P,{to:"/tasks",class:"text-sm font-medium text-primary hover:text-primary-dark"},{default:k(()=>d[12]||(d[12]=[v(" View all tasks "),s("span",{"aria-hidden":"true"},"→",-1)])),_:1})])])])])])}}},Ca=["type","disabled"],Da={key:0,class:"mr-2 -ml-1"},Oa={key:1,class:"mr-2 -ml-1"},La={key:2,class:"ml-2 -mr-1"},I={__name:"BaseButton",props:{type:{type:String,default:"button",validator:e=>["button","submit","reset"].includes(e)},variant:{type:String,default:"primary",validator:e=>["primary","secondary","danger","warning","success","info","default"].includes(e)},size:{type:String,default:"md",validator:e=>["sm","md","lg","xl"].includes(e)},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},text:{type:String,default:""},iconPosition:{type:String,default:"left",validator:e=>["left","right"].includes(e)}},emits:["click"],setup(e){const t=e,r=E(()=>{switch(t.size){case"sm":return"px-2.5 py-1.5 text-xs";case"lg":return"px-5 py-3 text-base";case"xl":return"px-6 py-3.5 text-lg";default:return"px-4 py-2 text-sm"}}),a=E(()=>{switch(t.variant){case"primary":return"bg-primary hover:bg-primary-dark text-white focus:ring-primary";case"secondary":return"bg-indigo-100 hover:bg-indigo-200 text-indigo-700 focus:ring-indigo-500 dark:bg-indigo-700 dark:hover:bg-indigo-600 dark:text-indigo-100";case"danger":return"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500 dark:bg-red-700 dark:hover:bg-red-600";case"warning":return"bg-yellow-500 hover:bg-yellow-600 text-white focus:ring-yellow-500 dark:bg-yellow-600 dark:hover:bg-yellow-500";case"success":return"bg-green-500 hover:bg-green-600 text-white focus:ring-green-500 dark:bg-green-600 dark:hover:bg-green-500";case"info":return"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500 dark:bg-blue-600 dark:hover:bg-blue-500";default:return"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 focus:ring-gray-500 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-white dark:border-gray-600"}});return(n,o)=>(g(),f("button",{type:e.type,disabled:e.disabled||e.loading,class:V(["inline-flex items-center justify-center rounded-md font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",r.value,a.value,{"opacity-50 cursor-not-allowed":e.disabled||e.loading}]),onClick:o[0]||(o[0]=l=>n.$emit("click",l))},[n.$slots.leftIcon&&!e.loading&&e.iconPosition==="left"?(g(),f("span",Da,[B(n.$slots,"leftIcon")])):S("",!0),e.loading?(g(),f("span",Oa,o[1]||(o[1]=[s("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):S("",!0),s("span",null,[B(n.$slots,"default",{},()=>[v(b(e.text),1)])]),n.$slots.rightIcon&&!e.loading&&e.iconPosition==="right"?(g(),f("span",La,[B(n.$slots,"rightIcon")])):S("",!0)],10,Ca))}},Fa={class:"flex items-center justify-center min-h-screen px-4 text-center sm:block sm:p-0"},Va={key:0,class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},Ea={class:"text-lg font-medium text-gray-900 dark:text-white"},Wa={class:"px-4 py-3 sm:p-6"},qa={key:1,class:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6 flex flex-col sm:flex-row-reverse gap-2"},Ye={__name:"BaseModal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"md",validator:e=>["sm","md","lg","xl","full"].includes(e)},persistent:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,a=t,n=E(()=>({"sm:max-w-sm":r.size==="sm","sm:max-w-lg":r.size==="md","sm:max-w-2xl":r.size==="lg","sm:max-w-4xl":r.size==="xl","sm:max-w-full sm:m-2":r.size==="full"})),o=()=>{r.persistent||a("update:modelValue",!1)};return Qe(()=>r.modelValue,l=>{l?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")},{immediate:!0}),(l,c)=>(g(),oe(Ge,{to:"body"},[e.modelValue?(g(),f("div",{key:0,class:"fixed z-50 inset-0 overflow-y-auto",onClick:o},[s("div",Fa,[c[3]||(c[3]=s("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[s("div",{class:"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75"})],-1)),s("div",{class:V(["inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",n.value]),onClick:c[1]||(c[1]=he(()=>{},["stop"]))},[e.title||l.$slots.header?(g(),f("div",Va,[B(l.$slots,"header",{},()=>[s("h3",Ea,b(e.title),1)]),s("button",{onClick:c[0]||(c[0]=y=>l.$emit("update:modelValue",!1)),class:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200 focus:outline-none"},c[2]||(c[2]=[s("span",{class:"sr-only"},"Close",-1),s("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):S("",!0),s("div",Wa,[B(l.$slots,"default")]),l.$slots.footer?(g(),f("div",qa,[B(l.$slots,"footer")])):S("",!0)],2)])])):S("",!0)]))}},Aa={class:"container mx-auto max-w-6xl"},Ba={class:"pb-5 border-b border-gray-200 dark:border-gray-700 mb-5 flex justify-between items-center"},Ia={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-4 mb-6"},Ya={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ja=["value"],Ra={class:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg"},Na={key:0,class:"p-6 text-center"},za={key:1,class:"p-6 text-center"},Ua={class:"mt-1 text-gray-500 dark:text-gray-400"},Ha={class:"mt-6"},Xa={key:2},Qa={class:"overflow-x-auto"},Ga={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ja={class:"bg-gray-50 dark:bg-gray-700"},Ka={key:0},Za={key:0},es={key:0},ts={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},rs={class:"px-6 py-4 whitespace-nowrap"},as=["id","checked","onChange"],ss={class:"px-6 py-4"},ns={class:"flex items-center"},os={class:"min-w-0 flex-1"},is={key:0,class:"text-sm text-gray-500 dark:text-gray-400 truncate"},ds={class:"px-6 py-4 whitespace-nowrap"},ls={key:1,class:"text-gray-400 dark:text-gray-500 text-xs"},us={class:"px-6 py-4 whitespace-nowrap"},cs={key:1,class:"text-gray-400 dark:text-gray-500 text-xs"},ms={class:"px-6 py-4 whitespace-nowrap"},gs={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},fs=["onClick"],hs={class:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6"},ys={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ps={class:"text-sm text-gray-700 dark:text-gray-300"},ws={class:"font-medium"},bs={class:"font-medium"},xs={class:"font-medium"},ks={key:0,class:"flex"},vs={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},$s=["disabled"],Ss=["onClick"],Ts=["disabled"],Ms={__name:"TaskList",setup(e){const t=ke(),r=C(),{isLoading:a}=ye(r),n=A([]),o=A([]),l=A(!1),c=A(null),y=A(null),i=N({status:"all",category:"",search:"",dueDate:"",sort:"created_at",order:"desc"}),m=N({currentPage:1,totalPages:1,perPage:10,total:0}),d=E(()=>i.status!=="all"||i.category!==""||i.search!==""||i.dueDate!==""),P=E(()=>(m.currentPage-1)*m.perPage+1),$=E(()=>Math.min(m.currentPage*m.perPage,m.total)),D=E(()=>{const x=m.totalPages,u=m.currentPage;if(x<=5)return Array.from({length:x},(ue,Ue)=>Ue+1);const q=[1],h=Math.max(2,u-1),ae=Math.min(x-1,u+1);h>2&&q.push("...");for(let ue=h;ue<=ae;ue++)q.push(ue);return ae<x-1&&q.push("..."),x>1&&q.push(x),q}),O=async()=>{try{Object.keys(i).forEach(u=>{t.setFilter(u,i[u])}),t.setPage(m.currentPage);const x=await t.fetchTasks();n.value=x.data,m.currentPage=x.current_page,m.totalPages=x.last_page,m.total=x.total}catch(x){console.error("Error fetching tasks:",x)}},H=async()=>{try{o.value=await t.fetchCategories()}catch(x){console.error("Error fetching categories:",x)}},X=()=>{m.currentPage=1,O()},L=()=>{i.status="all",i.category="",i.search="",i.dueDate="",i.sort="created_at",i.order="desc",X()},p=()=>{clearTimeout(y.value),y.value=setTimeout(()=>{X()},500)},T=x=>{i.sort===x?i.order=i.order==="asc"?"desc":"asc":(i.sort=x,i.order="asc"),O()},K=x=>{x<1||x>m.totalPages||(m.currentPage=x,O())},re=async(x,u)=>{try{await t.toggleTaskCompletion(x,u),O()}catch(q){console.error("Error toggling task completion:",q)}},je=x=>{c.value=x,l.value=!0},Re=async()=>{if(c.value)try{await t.deleteTask(c.value.id),l.value=!1,c.value=null,O()}catch(x){console.error("Error deleting task:",x)}},Ne=x=>x?we(new Date(x),"MMM d, yyyy"):"",ze=x=>!x.due_date||x.completed?!1:ee(new Date,new Date(x.due_date));return le(async()=>{await Promise.all([O(),H()])}),(x,u)=>{const q=U("router-link");return g(),f("div",Aa,[s("div",Ba,[u[12]||(u[12]=s("h1",{class:"text-3xl font-bold leading-tight text-gray-900 dark:text-white"},"Tasks",-1)),w(q,{to:"/tasks/create",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"},{default:k(()=>u[11]||(u[11]=[s("svg",{class:"mr-2 -ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),v(" Add Task ")])),_:1})]),s("div",Ia,[s("div",Ya,[s("div",null,[u[14]||(u[14]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Status",-1)),Y(s("select",{"onUpdate:modelValue":u[0]||(u[0]=h=>i.status=h),onChange:X,class:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"},u[13]||(u[13]=[s("option",{value:"all"},"All",-1),s("option",{value:"completed"},"Completed",-1),s("option",{value:"pending"},"Pending",-1),s("option",{value:"overdue"},"Overdue",-1)]),544),[[ce,i.status]])]),s("div",null,[u[16]||(u[16]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Category",-1)),Y(s("select",{"onUpdate:modelValue":u[1]||(u[1]=h=>i.category=h),onChange:X,class:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"},[u[15]||(u[15]=s("option",{value:""},"All Categories",-1)),(g(!0),f(G,null,J(o.value,h=>(g(),f("option",{key:h.id,value:h.id},b(h.name),9,ja))),128))],544),[[ce,i.category]])]),s("div",null,[u[17]||(u[17]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Search",-1)),Y(s("input",{"onUpdate:modelValue":u[2]||(u[2]=h=>i.search=h),onInput:p,type:"text",placeholder:"Search tasks...",class:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"},null,544),[[xe,i.search]])]),s("div",null,[u[18]||(u[18]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Due Date",-1)),Y(s("input",{"onUpdate:modelValue":u[3]||(u[3]=h=>i.dueDate=h),onChange:X,type:"date",class:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"},null,544),[[xe,i.dueDate]])])]),s("div",{class:"flex justify-end mt-4"},[s("button",{onClick:L,class:"inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"}," Clear Filters ")])]),s("div",Ra,[F(a)?(g(),f("div",Na,u[19]||(u[19]=[s("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"},null,-1),s("p",{class:"mt-2 text-gray-500 dark:text-gray-400"},"Loading tasks...",-1)]))):n.value.length===0?(g(),f("div",za,[u[21]||(u[21]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),u[22]||(u[22]=s("h3",{class:"mt-2 text-lg font-medium text-gray-900 dark:text-white"},"No tasks found",-1)),s("p",Ua,b(d.value?"Try changing your filters or":"Get started by")+" creating a new task. ",1),s("div",Ha,[w(q,{to:"/tasks/create",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"},{default:k(()=>u[20]||(u[20]=[s("svg",{class:"mr-2 -ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),v(" Add Task ")])),_:1})])])):(g(),f("div",Xa,[s("div",Qa,[s("table",Ga,[s("thead",Ja,[s("tr",null,[u[26]||(u[26]=s("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-12"}," Status ",-1)),s("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:u[4]||(u[4]=h=>T("title"))},[u[23]||(u[23]=v(" Title ")),i.sort==="title"?(g(),f("span",Ka,b(i.order==="asc"?"↑":"↓"),1)):S("",!0)]),u[27]||(u[27]=s("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Category ",-1)),s("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:u[5]||(u[5]=h=>T("due_date"))},[u[24]||(u[24]=v(" Due Date ")),i.sort==="due_date"?(g(),f("span",Za,b(i.order==="asc"?"↑":"↓"),1)):S("",!0)]),s("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:u[6]||(u[6]=h=>T("priority"))},[u[25]||(u[25]=v(" Priority ")),i.sort==="priority"?(g(),f("span",es,b(i.order==="asc"?"↑":"↓"),1)):S("",!0)]),u[28]||(u[28]=s("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Actions ",-1))])]),s("tbody",ts,[(g(!0),f(G,null,J(n.value,h=>(g(),f("tr",{key:h.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[s("td",rs,[s("input",{id:`task-${h.id}`,checked:h.completed,type:"checkbox",onChange:ae=>re(h.id,!h.completed),class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"},null,40,as)]),s("td",ss,[s("div",ns,[s("div",os,[w(q,{to:`/tasks/${h.id}`,class:"focus:outline-none"},{default:k(()=>[s("p",{class:V(["text-sm font-medium truncate",h.completed?"text-gray-400 line-through":"text-gray-900 dark:text-white"])},b(h.title),3),h.description?(g(),f("p",is,b(h.description),1)):S("",!0)]),_:2},1032,["to"])])])]),s("td",ds,[h.category?(g(),f("span",{key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:Ee({backgroundColor:h.category.color?h.category.color+"33":"#9CA3AF33",color:h.category.color||"#4B5563"})},b(h.category.name),5)):(g(),f("span",ls,"None"))]),s("td",us,[h.due_date?(g(),f("span",{key:0,class:V(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",ze(h)&&!h.completed?"bg-red-100 text-red-800 dark:bg-red-900 dark:bg-opacity-30 dark:text-red-300":"text-orange-500 dark:text-orange-400"])},b(Ne(h.due_date)),3)):(g(),f("span",cs,"None"))]),s("td",ms,[s("span",{class:V(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",h.priority==="high"?"bg-red-100 text-red-800 dark:bg-red-900 dark:bg-opacity-30 dark:text-red-300":h.priority==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:bg-opacity-30 dark:text-yellow-300":"bg-green-100 text-green-800 dark:bg-green-900 dark:bg-opacity-30 dark:text-green-300"])},b(h.priority.charAt(0).toUpperCase()+h.priority.slice(1)),3)]),s("td",gs,[w(q,{to:`/tasks/${h.id}`,class:"text-primary hover:text-primary-dark mr-3"},{default:k(()=>u[29]||(u[29]=[v(" Edit ")])),_:2},1032,["to"]),s("button",{onClick:ae=>je(h),class:"text-red-600 hover:text-red-900 dark:text-red-500 dark:hover:text-red-400"}," Delete ",8,fs)])]))),128))])])]),s("div",hs,[s("div",ys,[s("div",null,[s("p",ps,[u[30]||(u[30]=v(" Showing ")),s("span",ws,b(P.value),1),u[31]||(u[31]=v(" to ")),s("span",bs,b($.value),1),u[32]||(u[32]=v(" of ")),s("span",xs,b(m.total),1),u[33]||(u[33]=v(" results "))])]),m.totalPages>1?(g(),f("div",ks,[s("nav",vs,[s("button",{onClick:u[7]||(u[7]=h=>K(m.currentPage-1)),disabled:m.currentPage===1,class:V([m.currentPage===1?"opacity-50 cursor-not-allowed":"","relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"])},u[34]||(u[34]=[s("span",{class:"sr-only"},"Previous",-1),s("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),10,$s),(g(!0),f(G,null,J(D.value,h=>(g(),f("button",{key:h,onClick:ae=>K(h),class:V([h===m.currentPage?"z-10 bg-primary-50 border-primary text-primary dark:bg-primary-900 dark:text-primary-light":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},b(h),11,Ss))),128)),s("button",{onClick:u[8]||(u[8]=h=>K(m.currentPage+1)),disabled:m.currentPage===m.totalPages,class:V([m.currentPage===m.totalPages?"opacity-50 cursor-not-allowed":"","relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"])},u[35]||(u[35]=[s("span",{class:"sr-only"},"Next",-1),s("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),10,Ts)])])):S("",!0)])])]))]),w(Ye,{modelValue:l.value,"onUpdate:modelValue":u[10]||(u[10]=h=>l.value=h),title:"Confirm Delete"},{footer:k(()=>[w(I,{onClick:u[9]||(u[9]=h=>l.value=!1),variant:"default"},{default:k(()=>u[36]||(u[36]=[v(" Cancel ")])),_:1}),w(I,{onClick:Re,variant:"danger",loading:F(a)},{default:k(()=>u[37]||(u[37]=[v(" Delete ")])),_:1},8,["loading"])]),default:k(()=>[u[38]||(u[38]=s("p",{class:"text-gray-700 dark:text-gray-300"}," Are you sure you want to delete this task? This action cannot be undone. ",-1))]),_:1},8,["modelValue"])])}}},Ps=["for"],_s={key:0,class:"text-red-500"},Cs={class:"relative rounded-md shadow-sm"},Ds=["id","name","type","value","placeholder","required","disabled","autocomplete"],Os=["id","name","value","placeholder","required","disabled","rows"],Ls=["id","name","value","required","disabled"],Fs={key:0,value:""},Vs=["id","name","value","required","disabled","min","max"],Es={key:4,class:"flex items-center"},Ws=["id","name","checked","required","disabled"],qs=["for"],As={key:1,class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Bs={key:2,class:"mt-1 text-sm text-red-600 dark:text-red-500"},R={__name:"BaseInput",props:{modelValue:{type:[String,Number,Boolean],default:""},label:{type:String,default:""},type:{type:String,default:"text",validator:e=>["text","email","password","number","tel","textarea","select","date","checkbox"].includes(e)},id:{type:String,default:()=>`input-${Math.random().toString(36).substr(2,9)}`},name:{type:String,default:""},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:String,default:""},helpText:{type:String,default:""},autocomplete:{type:String,default:""},rows:{type:Number,default:4},min:{type:String,default:""},max:{type:String,default:""}},emits:["update:modelValue"],setup(e){const t=e,r=E(()=>["text","email","password","number","tel"].includes(t.type));return(a,n)=>(g(),f("div",null,[e.label?(g(),f("label",{key:0,for:e.id,class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[v(b(e.label)+" ",1),e.required?(g(),f("span",_s,"*")):S("",!0)],8,Ps)):S("",!0),s("div",Cs,[r.value?(g(),f("input",{key:0,id:e.id,name:e.name,type:e.type,value:e.modelValue,onInput:n[0]||(n[0]=o=>a.$emit("update:modelValue",o.target.value)),placeholder:e.placeholder,required:e.required,disabled:e.disabled,autocomplete:e.autocomplete,class:V(["form-input block w-full sm:text-sm rounded-md",e.error?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-primary focus:border-primary",e.disabled?"opacity-50 cursor-not-allowed":""])},null,42,Ds)):e.type==="textarea"?(g(),f("textarea",{key:1,id:e.id,name:e.name,value:e.modelValue,onInput:n[1]||(n[1]=o=>a.$emit("update:modelValue",o.target.value)),placeholder:e.placeholder,required:e.required,disabled:e.disabled,rows:e.rows,class:V(["form-input block w-full sm:text-sm rounded-md",e.error?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-primary focus:border-primary",e.disabled?"opacity-50 cursor-not-allowed":""])},null,42,Os)):e.type==="select"?(g(),f("select",{key:2,id:e.id,name:e.name,value:e.modelValue,onChange:n[2]||(n[2]=o=>a.$emit("update:modelValue",o.target.value)),required:e.required,disabled:e.disabled,class:V(["form-input block w-full sm:text-sm rounded-md",e.error?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-primary focus:border-primary",e.disabled?"opacity-50 cursor-not-allowed":""])},[e.placeholder?(g(),f("option",Fs,b(e.placeholder),1)):S("",!0),B(a.$slots,"default")],42,Ls)):e.type==="date"?(g(),f("input",{key:3,id:e.id,name:e.name,type:"date",value:e.modelValue,onInput:n[3]||(n[3]=o=>a.$emit("update:modelValue",o.target.value)),required:e.required,disabled:e.disabled,min:e.min,max:e.max,class:V(["form-input block w-full sm:text-sm rounded-md",e.error?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-primary focus:border-primary",e.disabled?"opacity-50 cursor-not-allowed":""])},null,42,Vs)):e.type==="checkbox"?(g(),f("div",Es,[s("input",{id:e.id,name:e.name,type:"checkbox",checked:e.modelValue,onChange:n[4]||(n[4]=o=>a.$emit("update:modelValue",o.target.checked)),required:e.required,disabled:e.disabled,class:V(["h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded",{"opacity-50 cursor-not-allowed":e.disabled}])},null,42,Ws),e.label?(g(),f("label",{key:0,for:e.id,class:"ml-2 block text-sm text-gray-900 dark:text-gray-300"},b(e.label),9,qs)):S("",!0)])):S("",!0)]),e.helpText&&!e.error?(g(),f("p",As,b(e.helpText),1)):S("",!0),e.error?(g(),f("p",Bs,b(e.error),1)):S("",!0)]))}},Is={key:0,class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"},Ys={key:0,class:"text-lg font-medium text-gray-900 dark:text-white"},js={key:1,class:"px-4 py-3 border-t border-gray-200 dark:border-gray-700"},Rs={__name:"BaseCard",props:{title:{type:String,default:""},bordered:{type:Boolean,default:!1},padding:{type:String,default:"p-4"},className:{type:String,default:""}},setup(e){return(t,r)=>(g(),f("div",{class:V(["bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",[e.bordered?"border border-gray-200 dark:border-gray-700":"",e.className]])},[e.title||t.$slots.header?(g(),f("div",Is,[e.title?(g(),f("h3",Ys,b(e.title),1)):S("",!0),B(t.$slots,"header")])):S("",!0),s("div",{class:V(["px-4 py-5",[e.padding]])},[B(t.$slots,"default")],2),t.$slots.footer?(g(),f("div",js,[B(t.$slots,"footer")])):S("",!0)],2))}},Ns={class:"container mx-auto max-w-3xl"},zs={class:"pb-5 border-b border-gray-200 dark:border-gray-700 mb-5 flex justify-between items-center"},Us={class:"text-3xl font-bold leading-tight text-gray-900 dark:text-white"},Hs={key:0},Xs={class:"space-y-6"},Qs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Gs=["value"],Js={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ks={class:"flex items-center mt-2"},Zs={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"},Le={__name:"TaskDetail",props:{id:{type:[String,Number],default:null}},setup(e){const t=e,r=fe(),a=Ve(),n=ke(),o=C(),{isLoading:l}=ye(o),c=N({title:"",description:"",category_id:"",due_date:"",priority:"medium",completed:!1}),y=N({title:"",description:"",category_id:"",due_date:""}),i=A(!1),m=A([]),d=E(()=>!t.id),P=E(()=>t.id||a.params.id),$=L=>L?we(new Date(L),"MMMM d, yyyy"):"",D=async()=>{if(!d.value)try{const L=await n.fetchTask(P.value);c.title=L.title,c.description=L.description||"",c.category_id=L.category_id||"",c.due_date=L.due_date||"",c.priority=L.priority||"medium",c.completed=L.completed||!1}catch(L){console.error("Error fetching task:",L),r.push("/tasks")}},O=async()=>{try{m.value=await n.fetchCategories()}catch(L){console.error("Error fetching categories:",L)}},H=async()=>{var p;Object.keys(y).forEach(T=>y[T]="");let L=!0;if(c.title||(y.title="Title is required",L=!1),!!L)try{d.value?await n.createTask(c):await n.updateTask(P.value,c),r.push("/tasks")}catch(T){if(((p=T.response)==null?void 0:p.status)===422){const K=T.response.data.errors;Object.keys(K).forEach(re=>{re in y&&(y[re]=K[re][0])})}}},X=async()=>{try{await n.deleteTask(P.value),r.push("/tasks")}catch(L){console.error("Error deleting task:",L)}};return le(async()=>{await Promise.all([D(),O()])}),(L,p)=>(g(),f("div",Ns,[s("div",zs,[s("h1",Us,b(d.value?"Create Task":"Edit Task"),1),d.value?S("",!0):(g(),f("div",Hs,[w(I,{variant:"danger",onClick:p[0]||(p[0]=T=>i.value=!0),class:"mr-2"},{default:k(()=>p[10]||(p[10]=[v(" Delete ")])),_:1})]))]),w(Rs,null,{default:k(()=>[s("form",{onSubmit:he(H,["prevent"])},[s("div",Xs,[s("div",null,[w(R,{modelValue:c.title,"onUpdate:modelValue":p[1]||(p[1]=T=>c.title=T),label:"Task Title",error:y.title,required:"",placeholder:"Enter task title"},null,8,["modelValue","error"])]),s("div",null,[p[11]||(p[11]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Description ",-1)),Y(s("textarea",{"onUpdate:modelValue":p[2]||(p[2]=T=>c.description=T),rows:"4",class:"block w-full rounded-md shadow-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50",placeholder:"Task description (optional)"},null,512),[[xe,c.description]])]),s("div",Qs,[s("div",null,[p[13]||(p[13]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Category ",-1)),Y(s("select",{"onUpdate:modelValue":p[3]||(p[3]=T=>c.category_id=T),class:"block w-full rounded-md shadow-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"},[p[12]||(p[12]=s("option",{value:""},"No category",-1)),(g(!0),f(G,null,J(m.value,T=>(g(),f("option",{key:T.id,value:T.id},b(T.name),9,Gs))),128))],512),[[ce,c.category_id]])]),s("div",null,[w(R,{modelValue:c.due_date,"onUpdate:modelValue":p[4]||(p[4]=T=>c.due_date=T),type:"date",label:"Due Date",error:y.due_date,helpText:c.due_date?$(c.due_date):"Optional"},null,8,["modelValue","error","helpText"])])]),s("div",Js,[s("div",null,[p[15]||(p[15]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Priority ",-1)),Y(s("select",{"onUpdate:modelValue":p[5]||(p[5]=T=>c.priority=T),class:"block w-full rounded-md shadow-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"},p[14]||(p[14]=[s("option",{value:"low"},"Low",-1),s("option",{value:"medium"},"Medium",-1),s("option",{value:"high"},"High",-1)]),512),[[ce,c.priority]])]),s("div",null,[p[17]||(p[17]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Status ",-1)),s("div",Ks,[Y(s("input",{id:"completed","onUpdate:modelValue":p[6]||(p[6]=T=>c.completed=T),type:"checkbox",class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"},null,512),[[We,c.completed]]),p[16]||(p[16]=s("label",{for:"completed",class:"ml-2 block text-sm text-gray-900 dark:text-gray-300"}," Mark as completed ",-1))])])]),s("div",Zs,[w(I,{type:"button",variant:"default",onClick:p[7]||(p[7]=T=>L.$router.push("/tasks"))},{default:k(()=>p[18]||(p[18]=[v(" Cancel ")])),_:1}),w(I,{type:"submit",variant:"primary",loading:F(l)},{default:k(()=>[v(b(d.value?"Create Task":"Update Task"),1)]),_:1},8,["loading"])])])],32)]),_:1}),w(Ye,{modelValue:i.value,"onUpdate:modelValue":p[9]||(p[9]=T=>i.value=T),title:"Confirm Delete"},{footer:k(()=>[w(I,{onClick:p[8]||(p[8]=T=>i.value=!1),variant:"default"},{default:k(()=>p[19]||(p[19]=[v(" Cancel ")])),_:1}),w(I,{onClick:X,variant:"danger",loading:F(l)},{default:k(()=>p[20]||(p[20]=[v(" Delete ")])),_:1},8,["loading"])]),default:k(()=>[p[21]||(p[21]=s("p",{class:"text-gray-700 dark:text-gray-300"}," Are you sure you want to delete this task? This action cannot be undone. ",-1))]),_:1},8,["modelValue"])]))}},en={class:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 sm:px-6 lg:px-8"},tn={class:"sm:mx-auto sm:w-full sm:max-w-md"},rn={class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400"},an={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},sn={class:"bg-white dark:bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10"},nn={class:"flex items-center justify-between"},on={class:"flex items-center"},dn={class:"text-sm"},ln={__name:"Login",setup(e){const t=fe(),r=te(),a=C(),{isLoading:n}=ye(a),o=N({email:"",password:"",remember:!1}),l=N({email:"",password:""}),c=async()=>{var i,m;l.email="",l.password="";let y=!0;if(o.email?/^\S+@\S+\.\S+$/.test(o.email)||(l.email="Email is invalid",y=!1):(l.email="Email is required",y=!1),o.password||(l.password="Password is required",y=!1),!!y)try{await r.login({email:o.email,password:o.password,remember:o.remember,device_name:navigator.userAgent}),t.push({name:"dashboard"})}catch(d){if(((i=d.response)==null?void 0:i.status)===422){const P=d.response.data.errors;P.email&&(l.email=P.email[0]),P.password&&(l.password=P.password[0])}else((m=d.response)==null?void 0:m.status)===401?l.email=d.response.data.message||"Invalid credentials":a.addToast({type:"error",message:"An error occurred during login. Please try again."})}};return(y,i)=>{const m=U("router-link");return g(),f("div",en,[s("div",tn,[i[5]||(i[5]=s("h2",{class:"text-center text-3xl font-extrabold text-gray-900 dark:text-white"}," Sign in to your account ",-1)),s("p",rn,[i[4]||(i[4]=v(" Or ")),w(m,{to:"/register",class:"font-medium text-primary hover:text-primary-dark"},{default:k(()=>i[3]||(i[3]=[v(" create a new account ")])),_:1})])]),s("div",an,[s("div",sn,[s("form",{onSubmit:he(c,["prevent"]),class:"space-y-6"},[s("div",null,[w(R,{modelValue:o.email,"onUpdate:modelValue":i[0]||(i[0]=d=>o.email=d),type:"email",label:"Email address",error:l.email,required:"",autocomplete:"email"},null,8,["modelValue","error"])]),s("div",null,[w(R,{modelValue:o.password,"onUpdate:modelValue":i[1]||(i[1]=d=>o.password=d),type:"password",label:"Password",error:l.password,required:"",autocomplete:"current-password"},null,8,["modelValue","error"])]),s("div",nn,[s("div",on,[Y(s("input",{id:"remember_me","onUpdate:modelValue":i[2]||(i[2]=d=>o.remember=d),type:"checkbox",class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded"},null,512),[[We,o.remember]]),i[6]||(i[6]=s("label",{for:"remember_me",class:"ml-2 block text-sm text-gray-900 dark:text-gray-300"}," Remember me ",-1))]),s("div",dn,[w(m,{to:"/forgot-password",class:"font-medium text-primary hover:text-primary-dark"},{default:k(()=>i[7]||(i[7]=[v(" Forgot your password? ")])),_:1})])]),s("div",null,[w(I,{type:"submit",variant:"primary",size:"lg",class:"w-full",loading:F(n)},{default:k(()=>i[8]||(i[8]=[v(" Sign in ")])),_:1},8,["loading"])])],32)])])])}}},un={class:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 sm:px-6 lg:px-8"},cn={class:"sm:mx-auto sm:w-full sm:max-w-md"},mn={class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400"},gn={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},fn={class:"bg-white dark:bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10"},hn={__name:"Register",setup(e){const t=fe(),r=te(),a=C(),{isLoading:n}=ye(a),o=N({name:"",email:"",password:"",password_confirmation:""}),l=N({name:"",email:"",password:"",password_confirmation:""}),c=async()=>{var i;Object.keys(l).forEach(m=>l[m]="");let y=!0;if(o.name||(l.name="Name is required",y=!1),o.email?/^\S+@\S+\.\S+$/.test(o.email)||(l.email="Email is invalid",y=!1):(l.email="Email is required",y=!1),o.password?o.password.length<8&&(l.password="Password must be at least 8 characters",y=!1):(l.password="Password is required",y=!1),o.password_confirmation?o.password!==o.password_confirmation&&(l.password_confirmation="Passwords do not match",y=!1):(l.password_confirmation="Please confirm your password",y=!1),!!y)try{await r.register({name:o.name,email:o.email,password:o.password,password_confirmation:o.password_confirmation,device_name:navigator.userAgent}),t.push({name:"dashboard"})}catch(m){if(((i=m.response)==null?void 0:i.status)===422){const d=m.response.data.errors;d.name&&(l.name=d.name[0]),d.email&&(l.email=d.email[0]),d.password&&(l.password=d.password[0]),d.password_confirmation&&(l.password_confirmation=d.password_confirmation[0])}else a.addToast({type:"error",message:"An error occurred during registration. Please try again."})}};return(y,i)=>{const m=U("router-link");return g(),f("div",un,[s("div",cn,[i[6]||(i[6]=s("h2",{class:"text-center text-3xl font-extrabold text-gray-900 dark:text-white"}," Create a new account ",-1)),s("p",mn,[i[5]||(i[5]=v(" Or ")),w(m,{to:"/login",class:"font-medium text-primary hover:text-primary-dark"},{default:k(()=>i[4]||(i[4]=[v(" sign in to your account ")])),_:1})])]),s("div",gn,[s("div",fn,[s("form",{onSubmit:he(c,["prevent"]),class:"space-y-6"},[s("div",null,[w(R,{modelValue:o.name,"onUpdate:modelValue":i[0]||(i[0]=d=>o.name=d),type:"text",label:"Name",error:l.name,required:"",autocomplete:"name"},null,8,["modelValue","error"])]),s("div",null,[w(R,{modelValue:o.email,"onUpdate:modelValue":i[1]||(i[1]=d=>o.email=d),type:"email",label:"Email address",error:l.email,required:"",autocomplete:"email"},null,8,["modelValue","error"])]),s("div",null,[w(R,{modelValue:o.password,"onUpdate:modelValue":i[2]||(i[2]=d=>o.password=d),type:"password",label:"Password",error:l.password,required:"",autocomplete:"new-password"},null,8,["modelValue","error"])]),s("div",null,[w(R,{modelValue:o.password_confirmation,"onUpdate:modelValue":i[3]||(i[3]=d=>o.password_confirmation=d),type:"password",label:"Confirm password",error:l.password_confirmation,required:"",autocomplete:"new-password"},null,8,["modelValue","error"])]),s("div",null,[w(I,{type:"submit",variant:"primary",size:"lg",class:"w-full",loading:F(n)},{default:k(()=>i[7]||(i[7]=[v(" Create account ")])),_:1},8,["loading"])])],32)])])])}}},yn={class:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8"},pn={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},wn={class:"text-center"},bn={class:"mt-6"},xn={__name:"NotFound",setup(e){return(t,r)=>{const a=U("router-link");return g(),f("div",yn,[s("div",pn,[s("div",wn,[r[1]||(r[1]=s("h1",{class:"text-9xl font-bold text-primary"},"404",-1)),r[2]||(r[2]=s("h2",{class:"text-3xl font-bold tracking-tight text-gray-900 dark:text-white mt-4"},"Page not found",-1)),r[3]||(r[3]=s("p",{class:"mt-2 text-base text-gray-500 dark:text-gray-400"},"Sorry, we couldn't find the page you're looking for.",-1)),s("div",bn,[w(a,{to:"/",class:"text-base font-medium text-primary hover:text-primary-dark"},{default:k(()=>r[0]||(r[0]=[v(" Go back home "),s("span",{"aria-hidden":"true"}," →",-1)])),_:1})])])])])}}},kn=[{path:"/",name:"dashboard",component:_a,meta:{requiresAuth:!0}},{path:"/tasks",name:"tasks",component:Ms,meta:{requiresAuth:!0}},{path:"/tasks/create",name:"tasks.create",component:Le,meta:{requiresAuth:!0}},{path:"/tasks/:id",name:"tasks.edit",component:Le,props:!0,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:ln,meta:{guest:!0}},{path:"/register",name:"register",component:hn,meta:{guest:!0}},{path:"/:pathMatch(.*)*",name:"not-found",component:xn}],ie=Je({history:Ke(),routes:kn,scrollBehavior(){return{top:0}}});ie.beforeEach((e,t,r)=>{const n=te().isAuthenticated;e.meta.requiresAuth&&!n?r({name:"login",query:{redirect:e.fullPath}}):e.meta.guest&&n?r({name:"dashboard"}):r()});_.defaults.baseURL="/api";_.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";_.defaults.headers.common.Accept="application/json";_.defaults.withCredentials=!0;const Fe=document.head.querySelector('meta[name="csrf-token"]');Fe&&(_.defaults.headers.common["X-CSRF-TOKEN"]=Fe.content);_.interceptors.response.use(e=>e,e=>(e.response&&e.response.status===401&&ie.currentRoute.value.name!=="login"&&ie.push({name:"login",query:{redirect:ie.currentRoute.value.fullPath}}),Promise.reject(e)));const vn=Ze(),ve=et(Et);ve.use(vn);ve.use(ie);const $n=async()=>{const e=te();if(C().initDarkMode(),e.token)try{await e.init()}catch(r){console.error("Failed to initialize auth:",r)}ve.mount("#app")};$n();
